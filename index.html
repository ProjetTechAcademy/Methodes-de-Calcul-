<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-s cale=1.0">
    <title>M√©thodes de Calcul en Paie</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fefce8;
            color: #4a5568;
        }
        .container {
            max-width: 900px;
        }
        .content-card {
            background-color: #fff;
            border-radius: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            border: 1px solid #fecdd3;
        }
        .accordion-item {
            background-color: #fff;
            border-radius: 1rem;
            box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.05);
            border: 1px solid #fecdd3;
        }
        .accordion-header {
            cursor: pointer;
            padding: 1.25rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #fecdd3;
            transition: background-color 0.2s ease-in-out;
        }
        .accordion-header:hover {
            background-color: #ffe4e6;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
            padding: 0 1.25rem;
        }
        .accordion-content.active {
            max-height: 2000px;
            padding: 1.25rem;
        }
        .chevron-down {
            transition: transform 0.3s ease;
        }
        .accordion-item.active .chevron-down {
            transform: rotate(180deg);
        }
        .prose h4 {
            font-weight: 600;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }
        .prose p {
            margin-bottom: 0.5rem;
        }
        .test-section {
            background-color: #fcf6e8;
            border-left: 4px solid #f59e0b;
            padding: 1rem;
            margin-top: 1.5rem;
            border-radius: 0.5rem;
        }
        .justification-box {
            background-color: #f3e8ff; /* Rose/Violet pastel */
            border-left: 4px solid #a855f7; /* Violet */
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 0.5rem;
        }
        .test-input {
            width: 100%;
            padding: 0.5rem;
            border-radius: 0.5rem;
            border: 1px solid #e2e8f0;
            margin-top: 0.5rem;
        }
        .test-button {
            background-color: #f59e0b;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 600;
            margin-top: 1rem;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out;
        }
        .test-button:hover {
            background-color: #d97706;
        }
        .test-result {
            margin-top: 1rem;
            font-weight: 600;
            color: #d97706;
        }
        table {
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #e2e8f0;
            padding: 0.5rem;
            text-align: left;
        }
    </style>
</head>
<body class="p-6">

    <div class="container mx-auto">
        <header class="text-center mb-10">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-pink-700 mb-2">
                Bo√Æte √† Outils : M√©thodes de Calcul üßÆ
            </h1>
            <p class="text-lg sm:text-xl text-gray-600 font-medium">
                Un recueil des formules et des exemples pour ma√Ætriser les calculs cl√©s en paie.
            </p>
            <hr class="w-24 h-1 mx-auto my-4 bg-orange-400 border-0 rounded">
        </header>

        <main class="space-y-6">

            <!-- Section pour les absences et cong√©s -->
            <div class="accordion-item" id="accordion-item-absences">
                <div class="accordion-header flex justify-between items-center bg-rose-50 hover:bg-rose-100">
                    <h3 class="text-xl font-bold text-rose-700">M√©thodes de calcul pour les absences</h3>
                    <svg class="chevron-down w-6 h-6 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </div>
                <div class="accordion-content">
                    <div class="prose max-w-none text-gray-700">
                        <p class="mb-4">Voici un tableau r√©capitulatif des principales m√©thodes de calcul pour les retenues sur salaire en cas d'absence. Le choix de la m√©thode d√©pend de la jurisprudence, du Code du travail et des conventions collectives. La m√©thode des heures r√©elles est recommand√©e par la Cour de cassation car elle est la plus proportionn√©e.</p>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">M√©thode</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Formule</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Exemple chiffr√©</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">R√©f√©rence juridique</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">Heures r√©elles</td>
                                        <td class="px-6 py-4">Retenue = $\text{Salaire mensuel} \times \dfrac{\text{Heures d'absence}}{\text{Heures r√©elles du mois}}$</td>
                                        <td class="px-6 py-4">Salaire = 2 500 ‚Ç¨<br>Heures r√©elles = 160 h<br>Absence = 8 h<br><span class="font-bold">Retenue = 125,00 ‚Ç¨</span></td>
                                        <td class="px-6 py-4">M√©thode privil√©gi√©e par la jurisprudence (Cour de cassation).</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">Heures moyennes</td>
                                        <td class="px-6 py-4">Retenue = $\text{Salaire mensuel} \times \dfrac{\text{Heures d'absence}}{151,67 \text{ h}}$</td>
                                        <td class="px-6 py-4">Salaire = 2 500 ‚Ç¨<br>Absence = 8 h<br><span class="font-bold">Retenue = 131,87 ‚Ç¨</span></td>
                                        <td class="px-6 py-4">Bas√©e sur la mensualisation (35 h/semaine). Pratique courante.</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">Jours ouvr√©s r√©els</td>
                                        <td class="px-6 py-4">Retenue = $\text{Salaire mensuel} \times \dfrac{\text{Jours d'absence}}{\text{Jours ouvr√©s r√©els du mois}}$</td>
                                        <td class="px-6 py-4">Salaire = 2 500 ‚Ç¨<br>Jours ouvr√©s = 22<br>Absence = 1 jour<br><span class="font-bold">Retenue = 113,64 ‚Ç¨</span></td>
                                        <td class="px-6 py-4">Applicable pour un travail sur 5 jours par semaine.</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">Jours ouvr√©s moyens</td>
                                        <td class="px-6 py-4">Retenue = $\text{Salaire mensuel} \times \dfrac{\text{Jours d'absence}}{21,67}$</td>
                                        <td class="px-6 py-4">Salaire = 2 500 ‚Ç¨<br>Absence = 1 jour<br><span class="font-bold">Retenue = 115,37 ‚Ç¨</span></td>
                                        <td class="px-6 py-4">Utilise une moyenne forfaitaire (21,67 jours).</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">Jours ouvrables r√©els</td>
                                        <td class="px-6 py-4">Retenue = $\text{Salaire mensuel} \times \dfrac{\text{Jours d'absence}}{\text{Jours ouvrables r√©els du mois}}$</td>
                                        <td class="px-6 py-4">Salaire = 2 500 ‚Ç¨<br>Jours ouvrables = 26<br>Absence = 1 jour<br><span class="font-bold">Retenue = 96,15 ‚Ç¨</span></td>
                                        <td class="px-6 py-4">Pratique pour les cong√©s pay√©s.</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">Jours ouvrables moyens</td>
                                        <td class="px-6 py-4">Retenue = $\text{Salaire mensuel} \times \dfrac{\text{Jours d'absence}}{26}$</td>
                                        <td class="px-6 py-4">Salaire = 2 500 ‚Ç¨<br>Absence = 1 jour<br><span class="font-bold">Retenue = 96,15 ‚Ç¨</span></td>
                                        <td class="px-6 py-4">Base forfaitaire de 26 jours.</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">Jours calendaires r√©els</td>
                                        <td class="px-6 py-4">Retenue = $\text{Salaire mensuel} \times \dfrac{\text{Jours d'absence}}{\text{Jours calendaires du mois}}$</td>
                                        <td class="px-6 py-4">Salaire = 2 500 ‚Ç¨<br>Jours du mois = 30<br>Absence = 1 jour<br><span class="font-bold">Retenue = 83,33 ‚Ç¨</span></td>
                                        <td class="px-6 py-4">Conforme pour les absences longues (maladie).</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">Jours calendaires moyens</td>
                                        <td class="px-6 py-4">Retenue = $\text{Salaire mensuel} \times \dfrac{\text{Jours d'absence}}{30}$</td>
                                        <td class="px-6 py-4">Salaire = 2 500 ‚Ç¨<br>Absence = 1 jour<br><span class="font-bold">Retenue = 83,33 ‚Ç¨</span></td>
                                        <td class="px-6 py-4">M√©thode du "1/30√®me" simplifi√©e.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section pour les cotisations sociales -->
            <div class="accordion-item" id="accordion-item-cotisations">
                <div class="accordion-header flex justify-between items-center bg-orange-50 hover:bg-orange-100">
                    <h3 class="text-xl font-bold text-orange-700">Tableau des calculs de cotisations sociales</h3>
                    <svg class="chevron-down w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </div>
                <div class="accordion-content">
                    <div class="prose max-w-none text-gray-700">
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cotisation</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Base de calcul</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Taux</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Exemple</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">Maladie</td>
                                        <td class="px-6 py-4">Salaire brut total</td>
                                        <td class="px-6 py-4">7% (employeur)</td>
                                        <td class="px-6 py-4">2000 ‚Ç¨ x 7% = 140 ‚Ç¨</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">Vieillesse (Plafonn√©e)</td>
                                        <td class="px-6 py-4">Salaire brut ‚â§ PMSS (3925 ‚Ç¨/mois)</td>
                                        <td class="px-6 py-4">6,90% (salari√©) / 8,55% (employeur)</td>
                                        <td class="px-6 py-4">Pour 3800 ‚Ç¨: 3800 ‚Ç¨ x 6,9% = 262,20 ‚Ç¨</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">Vieillesse (D√©plafonn√©e)</td>
                                        <td class="px-6 py-4">Salaire brut total</td>
                                        <td class="px-6 py-4">0,40% (salari√©) / 1,90% (employeur)</td>
                                        <td class="px-6 py-4">Pour 4500 ‚Ç¨ : 4500 ‚Ç¨ x 0,4% = 18 ‚Ç¨</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">CSG/CRDS</td>
                                        <td class="px-6 py-4">98,25% du brut (abattement 1,75%)</td>
                                        <td class="px-6 py-4">9,2% (CSG) + 0,5% (CRDS)</td>
                                        <td class="px-6 py-4">Pour 3000 ‚Ç¨ brut : (3000 ‚Ç¨ x 98,25%) x 9,7% = 285,95 ‚Ç¨</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">Ch√¥mage</td>
                                        <td class="px-6 py-4">Salaire brut total</td>
                                        <td class="px-6 py-4">2,40% (employeur)</td>
                                        <td class="px-6 py-4">2000 ‚Ç¨ x 2,4% = 48 ‚Ç¨</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <h4 class="font-bold text-orange-700 mt-6">D√©tails sur l'abattement de la base CSG/CRDS</h4>
                        <p>L'abattement de 1,75% s'applique sur la r√©mun√©ration brute pour d√©terminer la base de la CSG/CRDS. Il a une limite, fix√©e √† 4 fois le plafond annuel de la S√©curit√© sociale. Au-del√† de ce plafond, l'abattement ne s'applique plus, et la base de calcul est alors l'int√©gralit√© du salaire brut.</p>
                        <h4 class="font-bold text-orange-700 mt-6">Points de vigilance</h4>
                        <p>Les taux et les bases de calcul des cotisations peuvent varier en fonction de la convention collective de l'entreprise ou des d√©crets en vigueur. Il est donc essentiel de rester inform√© pour garantir la conformit√© des bulletins de paie.</p>
                        <div class="test-section">
                            <h4 class="text-orange-600 font-bold mb-2">Tester les calculs de cotisations</h4>
                            <label class="block text-sm font-medium text-gray-700 mt-2">Salaire mensuel brut (‚Ç¨):</label>
                            <input type="number" id="salaire-brut-cotis" class="test-input" value="3000">
                            <label class="block text-sm font-medium text-gray-700 mt-2">PMSS (‚Ç¨):</label>
                            <input type="number" id="pmss" class="test-input" value="3925">
                            <button onclick="calculerCotisations()" class="test-button">Tester le calcul</button>
                            <div id="resultat-cotisations" class="test-result"></div>
                            <div id="justification-cotisations" class="justification-box hidden"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 1: Salaire de base et horaire -->
            <div class="accordion-item" id="accordion-item-1">
                <div class="accordion-header flex justify-between items-center bg-stone-50 hover:bg-stone-100">
                    <h3 class="text-xl font-bold text-stone-700">1. Salaire de base et horaire</h3>
                    <svg class="chevron-down w-6 h-6 text-stone-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </div>
                <div class="accordion-content">
                    <div class="prose max-w-none text-gray-700">
                        <h4 class="font-bold text-stone-700">Dur√©e mensuelle moyenne</h4>
                        <p>La dur√©e l√©gale du travail est de 35 heures par semaine. Pour obtenir une moyenne mensuelle, on applique la formule de mensualisation :</p>
                        <p class="font-mono bg-gray-100 p-2 rounded-md">
                            (Heures Hebdomadaires x 52 Semaines) / 12 Mois
                        </p>
                        <p><strong>Exemple :</strong> Pour un contrat de 35h/semaine : (35 x 52) / 12 = 151,67 heures.</p>
                        <hr>
                        <h4 class="font-bold text-stone-700">Salaire de base</h4>
                        <p>Le salaire de base est le montant fixe que per√ßoit un salari√©. Il se calcule en multipliant son horaire mensuel par son taux horaire.</p>
                        <p class="font-mono bg-gray-100 p-2 rounded-md">
                            Horaire Mensuel Moyen x Taux Horaire
                        </p>
                        <div class="test-section">
                            <h4 class="text-orange-600 font-bold mb-2">Tester le calcul</h4>
                            <label class="block text-sm font-medium text-gray-700 mt-2">Heures hebdomadaires:</label>
                            <input type="number" id="heures-hebdo" class="test-input" value="35">
                            <label class="block text-sm font-medium text-gray-700 mt-2">Taux horaire (‚Ç¨):</label>
                            <input type="number" id="taux-horaire" class="test-input" value="13">
                            <button onclick="calculerSalaire()" class="test-button">Calculer le salaire de base</button>
                            <div id="resultat-salaire" class="test-result"></div>
                            <div id="justification-salaire" class="justification-box hidden"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 2: Heures compl√©mentaires et suppl√©mentaires -->
            <div class="accordion-item" id="accordion-item-2">
                <div class="accordion-header flex justify-between items-center bg-yellow-50 hover:bg-yellow-100">
                    <h3 class="text-xl font-bold text-yellow-700">2. Heures compl√©mentaires et suppl√©mentaires</h3>
                    <svg class="chevron-down w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </div>
                <div class="accordion-content">
                    <div class="prose max-w-none text-gray-700">
                        <h4 class="font-bold text-yellow-700">Heures compl√©mentaires (temps partiel)</h4>
                        <p>Elles sont effectu√©es au-del√† du contrat, mais en de√ß√† des 35h. Elles sont major√©es selon la loi :</p>
                        <ul class="list-disc list-inside">
                            <li>Jusqu'√† 10% de la dur√©e contractuelle : majoration de 10%.</li>
                            <li>Au-del√† de 10% et jusqu'√† 1/3 de la dur√©e contractuelle : majoration de 25%.</li>
                        </ul>
                        <p class="font-mono bg-gray-100 p-2 rounded-md">
                            R√©mun√©ration HC major√©es = Nombre d'heures x Taux Horaire x Taux de majoration
                        </p>
                        <div class="test-section">
                            <h4 class="text-orange-600 font-bold mb-2">Tester le calcul</h4>
                            <label class="block text-sm font-medium text-gray-700 mt-2">Heures contractuelles hebdomadaires:</label>
                            <input type="number" id="heures-contractuelles" class="test-input" value="28">
                            <label class="block text-sm font-medium text-gray-700 mt-2">Taux horaire (‚Ç¨):</label>
                            <input type="number" id="taux-horaire-hc" class="test-input" value="14">
                            <label class="block text-sm font-medium text-gray-700 mt-2">Nombre d'heures compl√©mentaires:</label>
                            <input type="number" id="nombre-hc" class="test-input" value="4">
                            <button onclick="calculerHeuresComplementaires()" class="test-button">Calculer les heures compl√©mentaires</button>
                            <div id="resultat-hc" class="test-result"></div>
                            <div id="justification-hc" class="justification-box hidden"></div>
                        </div>
                        <hr>
                        <h4 class="font-bold text-yellow-700">Heures suppl√©mentaires (temps plein)</h4>
                        <p>Elles sont effectu√©es au-del√† de 35h. La majoration l√©gale est :</p>
                        <ul class="list-disc list-inside">
                            <li>De la 36√®me √† la 43√®me heure : majoration de 25%.</li>
                            <li>√Ä partir de la 44√®me heure : majoration de 50%.</li>
                        </ul>
                        <p class="font-mono bg-gray-100 p-2 rounded-md">
                            R√©mun√©ration HS major√©es = Nombre d'heures x Taux Horaire x Taux de majoration
                        </p>
                        <div class="test-section">
                            <h4 class="text-orange-600 font-bold mb-2">Tester le calcul</h4>
                            <label class="block text-sm font-medium text-gray-700 mt-2">Heures totales travaill√©es:</label>
                            <input type="number" id="heures-totales-hs" class="test-input" value="40">
                            <label class="block text-sm font-medium text-gray-700 mt-2">Taux horaire (‚Ç¨):</label>
                            <input type="number" id="taux-horaire-hs" class="test-input" value="15">
                            <button onclick="calculerHeuresSupplementaires()" class="test-button">Calculer les heures suppl√©mentaires</button>
                            <div id="resultat-hs" class="test-result"></div>
                            <div id="justification-hs" class="justification-box hidden"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 3: Retenue pour absence -->
            <div class="accordion-item" id="accordion-item-3">
                <div class="accordion-header flex justify-between items-center bg-orange-50 hover:bg-orange-100">
                    <h3 class="text-xl font-bold text-orange-700">3. Retenue pour absence</h3>
                    <svg class="chevron-down w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </div>
                <div class="accordion-content">
                    <div class="prose max-w-none text-gray-700">
                        <h4 class="font-bold text-orange-700">M√©thode de l'horaire r√©el</h4>
                        <p>C'est la m√©thode pr√©conis√©e par la Cour de cassation pour les absences non r√©mun√©r√©es. Le taux horaire est calcul√© sur le nombre r√©el d'heures du mois, ce qui est plus pr√©cis que la moyenne mensuelle.</p>
                        <p class="font-mono bg-gray-100 p-2 rounded-md">
                            Taux Horaire R√©el = Salaire de Base / Heures R√©elles du Mois
                        </p>
                        <p class="font-mono bg-gray-100 p-2 rounded-md">
                            Retenue pour Absence = Taux Horaire R√©el x Heures d'Absence
                        </p>
                        <div class="test-section">
                            <h4 class="text-orange-600 font-bold mb-2">Tester le calcul</h4>
                            <label class="block text-sm font-medium text-gray-700 mt-2">Salaire de base (‚Ç¨):</label>
                            <input type="number" id="salaire-base-retenue" class="test-input" value="2000">
                            <label class="block text-sm font-medium text-gray-700 mt-2">Heures r√©elles du mois:</label>
                            <input type="number" id="heures-reelles-retenue" class="test-input" value="154">
                            <label class="block text-sm font-medium text-gray-700 mt-2">Heures d'absence:</label>
                            <input type="number" id="heures-absence-retenue" class="test-input" value="21">
                            <button onclick="calculerRetenueAbsence()" class="test-button">Calculer la retenue</button>
                            <div id="resultat-retenue" class="test-result"></div>
                            <div id="justification-retenue" class="justification-box hidden"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 4: IJSS (Indemnit√©s Journali√®res de S√©curit√© Sociale) -->
            <div class="accordion-item" id="accordion-item-4">
                <div class="accordion-header flex justify-between items-center bg-amber-50 hover:bg-amber-100">
                    <h3 class="text-xl font-bold text-amber-700">4. IJSS (Indemnit√©s Journali√®res)</h3>
                    <svg class="chevron-down w-6 h-6 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </div>
                <div class="accordion-content">
                    <div class="prose max-w-none text-gray-700">
                        <h4 class="font-bold text-amber-700">IJSS maladie non professionnelle</h4>
                        <p>Elles sont vers√©es apr√®s 3 jours de carence. Elles correspondent √† 50% du salaire journalier de r√©f√©rence (SJR), calcul√© sur les 3 derniers mois de salaire brut, dans la limite de 1,8 SMIC mensuels.</p>
                        <p class="font-mono bg-gray-100 p-2 rounded-md">
                            IJSS Brutes = (Somme des salaires bruts des 3 derniers mois / 91,25) x 50%
                        </p>
                        <div class="test-section">
                            <h4 class="text-orange-600 font-bold mb-2">Tester le calcul</h4>
                            <label class="block text-sm font-medium text-gray-700 mt-2">Somme des salaires bruts des 3 derniers mois (‚Ç¨):</label>
                            <input type="number" id="salaire-3-mois" class="test-input" value="6000">
                            <label class="block text-sm font-medium text-gray-700 mt-2">Nombre de jours d'absence:</label>
                            <input type="number" id="jours-absence-ijss" class="test-input" value="10">
                            <button onclick="calculerIJSSMaladie()" class="test-button">Calculer les IJSS (maladie)</button>
                            <div id="resultat-ijss" class="test-result"></div>
                            <div id="justification-ijss" class="justification-box hidden"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 5: Avantages en nature -->
            <div class="accordion-item" id="accordion-item-5">
                <div class="accordion-header flex justify-between items-center bg-stone-50 hover:bg-stone-100">
                    <h3 class="text-xl font-bold text-stone-700">5. Avantages en nature</h3>
                    <svg class="chevron-down w-6 h-6 text-stone-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </div>
                <div class="accordion-content">
                    <div class="prose max-w-none text-gray-700">
                        <h4 class="font-bold text-stone-700">Logement</h4>
                        <p>L'√©valuation forfaitaire se base sur le salaire brut et le nombre de pi√®ces du logement. Un bar√®me est mis √† jour chaque ann√©e par l'URSSAF.</p>
                        <p class="font-mono bg-gray-100 p-2 rounded-md">
                            Valeur Forfaitaire = Montant du bar√®me par pi√®ce x Nombre de pi√®ces
                        </p>
                        <div class="test-section">
                            <h4 class="text-orange-600 font-bold mb-2">Tester le calcul (Logement)</h4>
                            <label class="block text-sm font-medium text-gray-700 mt-2">Montant du bar√®me par pi√®ce (‚Ç¨):</label>
                            <input type="number" id="montant-logement" class="test-input" value="80">
                            <label class="block text-sm font-medium text-gray-700 mt-2">Nombre de pi√®ces:</label>
                            <input type="number" id="nombre-pieces" class="test-input" value="3">
                            <button onclick="calculerAvantageLogement()" class="test-button">Calculer la valeur</button>
                            <div id="resultat-logement" class="test-result"></div>
                            <div id="justification-logement" class="justification-box hidden"></div>
                        </div>
                        <hr>
                        <h4 class="font-bold text-stone-700">Nourriture</h4>
                        <p>L'√©valuation forfaitaire est fix√©e annuellement par l'URSSAF, sauf si le salari√© paie au moins la moiti√© de l'√©valuation forfaitaire.</p>
                        <p class="font-mono bg-gray-100 p-2 rounded-md">
                            Avantage en nature nourriture = (√âvaluation forfaitaire - Participation du salari√©) x Nombre de repas
                        </p>
                         <div class="test-section">
                            <h4 class="text-orange-600 font-bold mb-2">Tester le calcul (Nourriture)</h4>
                            <label class="block text-sm font-medium text-gray-700 mt-2">√âvaluation forfaitaire (‚Ç¨):</label>
                            <input type="number" id="eval-forfaitaire" class="test-input" value="5.35">
                            <label class="block text-sm font-medium text-gray-700 mt-2">Participation du salari√© (‚Ç¨):</label>
                            <input type="number" id="participation-salarie" class="test-input" value="2">
                            <label class="block text-sm font-medium text-gray-700 mt-2">Nombre de repas:</label>
                            <input type="number" id="nombre-repas" class="test-input" value="20">
                            <button onclick="calculerAvantageNourriture()" class="test-button">Calculer la valeur</button>
                            <div id="resultat-nourriture" class="test-result"></div>
                            <div id="justification-nourriture" class="justification-box hidden"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Section 6: R√©duction g√©n√©rale des cotisations (ex-Fillon) -->
            <div class="accordion-item" id="accordion-item-6">
                <div class="accordion-header flex justify-between items-center bg-green-50 hover:bg-green-100">
                    <h3 class="text-xl font-bold text-green-700">6. R√©duction G√©n√©rale de Cotisations (RGCP)</h3>
                    <svg class="chevron-down w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </div>
                <div class="accordion-content">
                    <div class="prose max-w-none text-gray-700">
                        <p>Cette r√©duction s'applique aux salaires inf√©rieurs √† 1,6 fois le SMIC. Elle est calcul√©e via un coefficient. Le montant de la r√©duction est la r√©mun√©ration brute multipli√©e par ce coefficient.</p>
                        <p class="font-mono bg-gray-100 p-2 rounded-md">
                            Coefficient = (T / 0.6) x ((1.6 x SMIC Annuel) / R√©mun√©ration Annuelle Brute - 1)
                        </p>
                        <div class="test-section">
                            <h4 class="text-orange-600 font-bold mb-2">Tester le calcul</h4>
                            <label class="block text-sm font-medium text-gray-700 mt-2">R√©mun√©ration Annuelle Brute (‚Ç¨):</label>
                            <input type="number" id="remuneration-annuelle" class="test-input" value="22000">
                            <label class="block text-sm font-medium text-gray-700 mt-2">SMIC Annuel (‚Ç¨):</label>
                            <input type="number" id="smic-annuel" class="test-input" value="21203.47">
                            <label class="block text-sm font-medium text-gray-700 mt-2">Valeur T (taux de cotisations patronales):</label>
                            <input type="number" id="valeur-t" class="test-input" value="0.3194">
                            <button onclick="calculerRGCP()" class="test-button">Calculer le coefficient</button>
                            <div id="resultat-rgcp" class="test-result"></div>
                            <div id="justification-rgcp" class="justification-box hidden"></div>
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const accordionItems = document.querySelectorAll('.accordion-item');
            accordionItems.forEach(item => {
                const header = item.querySelector('.accordion-header');
                const content = item.querySelector('.accordion-content');
                header.addEventListener('click', () => {
                    item.classList.toggle('active');
                    content.classList.toggle('active');
                });
            });
        });

        function calculerAbsence() {
            const salaireMensuel = parseFloat(document.getElementById('salaire-mensuel').value);
            const heuresReelles = parseFloat(document.getElementById('heures-reelles').value);
            const heuresAbsence = parseFloat(document.getElementById('heures-absence').value);
            const resultatDiv = document.getElementById('resultat-absence');
            const justificationDiv = document.getElementById('justification-absence');
            if (heuresReelles === 0) {
                resultatDiv.innerText = "Erreur: Les heures r√©elles ne peuvent pas √™tre z√©ro.";
                justificationDiv.classList.add('hidden');
                return;
            }
            const retenue = (salaireMensuel / heuresReelles) * heuresAbsence;
            resultatDiv.innerText = `Retenue pour absence (Heures R√©elles): ${retenue.toFixed(2)} ‚Ç¨`;

            justificationDiv.innerHTML = `
                <h4 class="font-bold text-purple-700">Justification du calcul :</h4>
                <p>La Cour de cassation pr√©conise la m√©thode de la <strong>retenue pour absence sur l'horaire r√©el</strong>. Elle consiste √† calculer la valeur d'une heure de travail en divisant le salaire de base par le nombre d'heures r√©elles travaill√©es dans le mois concern√©.</p>
                <p>Ensuite, on multiplie cette valeur par le nombre d'heures d'absence pour trouver le montant exact √† retenir sur le salaire.</p>
                <p><strong>Calcul :</strong><br>
                Valeur de l'heure = ${salaireMensuel} ‚Ç¨ / ${heuresReelles} h = ${(salaireMensuel / heuresReelles).toFixed(2)} ‚Ç¨<br>
                Retenue = ${(salaireMensuel / heuresReelles).toFixed(2)} ‚Ç¨ x ${heuresAbsence} h = ${retenue.toFixed(2)} ‚Ç¨</p>
            `;
            justificationDiv.classList.remove('hidden');
        }

        function calculerCotisations() {
            const salaireBrut = parseFloat(document.getElementById('salaire-brut-cotis').value);
            const pmss = parseFloat(document.getElementById('pmss').value);
            const resultatDiv = document.getElementById('resultat-cotisations');
            const justificationDiv = document.getElementById('justification-cotisations');

            let mal = salaireBrut * 0.07;
            let vieillessePlaf = 0;
            if (salaireBrut <= pmss) {
                vieillessePlaf = salaireBrut * 0.0690;
            } else {
                vieillessePlaf = pmss * 0.0690;
            }
            let vieillesseDeplaf = salaireBrut * 0.0040;
            let csgCrdsBase = salaireBrut * 0.9825;
            let csgCrds = csgCrdsBase * 0.097;
            let chomage = salaireBrut * 0.0240;

            resultatDiv.innerHTML = `
                <p><strong>Maladie (employeur):</strong> ${mal.toFixed(2)} ‚Ç¨</p>
                <p><strong>Vieillesse Plafonn√©e (salari√©):</strong> ${vieillessePlaf.toFixed(2)} ‚Ç¨</p>
                <p><strong>Vieillesse D√©plafonn√©e (salari√©):</strong> ${vieillesseDeplaf.toFixed(2)} ‚Ç¨</p>
                <p><strong>CSG/CRDS:</strong> ${csgCrds.toFixed(2)} ‚Ç¨</p>
                <p><strong>Ch√¥mage (employeur):</strong> ${chomage.toFixed(2)} ‚Ç¨</p>
            `;
            justificationDiv.innerHTML = `
                <h4 class="font-bold text-purple-700">Justification du calcul :</h4>
                <p>Chaque cotisation a sa propre <strong>assiette</strong> (la base de calcul) et son propre <strong>taux</strong>. Voici comment nous avons proc√©d√© :</p>
                <ul class="list-disc list-inside">
                    <li><strong>Maladie :</strong> La base est le salaire brut total. Le calcul est simple : ${salaireBrut} ‚Ç¨ x 7% = ${mal.toFixed(2)} ‚Ç¨.</li>
                    <li><strong>Vieillesse Plafonn√©e :</strong> La base est plafonn√©e au PMSS. Nous avons pris le PMSS de ${pmss} ‚Ç¨ et appliqu√© le taux de 6,90% car le salaire brut de ${salaireBrut} ‚Ç¨ est inf√©rieur/sup√©rieur au PMSS. Le calcul est : ${vieillessePlaf.toFixed(2)} ‚Ç¨.</li>
                    <li><strong>Vieillesse D√©plafonn√©e :</strong> Cette cotisation s'applique √† l'int√©gralit√© du salaire brut. Le calcul est : ${salaireBrut} ‚Ç¨ x 0.40% = ${vieillesseDeplaf.toFixed(2)} ‚Ç¨.</li>
                    <li><strong>CSG/CRDS :</strong> La base est le salaire brut avec un abattement de 1,75%. Le calcul est : (${salaireBrut} ‚Ç¨ x 98,25%) x 9,7% = ${csgCrds.toFixed(2)} ‚Ç¨.</li>
                    <li><strong>Ch√¥mage :</strong> La base est le salaire brut total. Le calcul est : ${salaireBrut} ‚Ç¨ x 2,40% = ${chomage.toFixed(2)} ‚Ç¨.</li>
                </ul>
            `;
            justificationDiv.classList.remove('hidden');
        }

        function calculerSalaire() {
            const heuresHebdo = parseFloat(document.getElementById('heures-hebdo').value);
            const tauxHoraire = parseFloat(document.getElementById('taux-horaire').value);
            const resultatDiv = document.getElementById('resultat-salaire');
            const justificationDiv = document.getElementById('justification-salaire');

            const heuresMensuelles = (heuresHebdo * 52) / 12;
            const salaireBase = heuresMensuelles * tauxHoraire;

            resultatDiv.innerHTML = `
                <p><strong>Heures mensuelles moyennes:</strong> ${heuresMensuelles.toFixed(2)} h</p>
                <p><strong>Salaire de base:</strong> ${salaireBase.toFixed(2)} ‚Ç¨</p>
            `;
            justificationDiv.innerHTML = `
                <h4 class="font-bold text-purple-700">Justification du calcul :</h4>
                <p>Pour obtenir un salaire de base fiable, on utilise la formule de la mensualisation, qui uniformise la r√©mun√©ration tout au long de l'ann√©e. On prend le nombre d'heures hebdomadaires, on le multiplie par le nombre de semaines dans l'ann√©e (52) et on divise par le nombre de mois (12). Le r√©sultat est ensuite multipli√© par le taux horaire du salari√©.</p>
                <p><strong>Calcul :</strong><br>
                Heures Mensuelles = (${heuresHebdo} h x 52) / 12 = ${heuresMensuelles.toFixed(2)} h<br>
                Salaire de base = ${heuresMensuelles.toFixed(2)} h x ${tauxHoraire} ‚Ç¨/h = ${salaireBase.toFixed(2)} ‚Ç¨</p>
            `;
            justificationDiv.classList.remove('hidden');
        }

        function calculerHeuresComplementaires() {
            const heuresContractuelles = parseFloat(document.getElementById('heures-contractuelles').value);
            const tauxHoraire = parseFloat(document.getElementById('taux-horaire-hc').value);
            const nombreHc = parseFloat(document.getElementById('nombre-hc').value);
            const resultatDiv = document.getElementById('resultat-hc');
            const justificationDiv = document.getElementById('justification-hc');

            let totalHc = 0;
            let justificationText = '';
            const seuil10 = heuresContractuelles * 0.10;
            const seuil33 = heuresContractuelles * (1/3);

            if (nombreHc <= seuil10) {
                totalHc = nombreHc * tauxHoraire * 1.10;
                justificationText = `<p>Les heures compl√©mentaires sont major√©es √† 10% car elles sont inf√©rieures ou √©gales √† 10% de la dur√©e contractuelle (${seuil10.toFixed(2)} h).</p>
                                    <p><strong>Calcul :</strong> ${nombreHc} h x ${tauxHoraire} ‚Ç¨/h x 1.10 = ${totalHc.toFixed(2)} ‚Ç¨</p>`;
            } else if (nombreHc > seuil10 && nombreHc <= seuil33) {
                const heures10 = seuil10;
                const heures25 = nombreHc - seuil10;
                totalHc = (heures10 * tauxHoraire * 1.10) + (heures25 * tauxHoraire * 1.25);
                justificationText = `<p>Le calcul se fait en deux parties : les heures jusqu'au seuil de 10% (${heures10.toFixed(2)} h) sont major√©es √† 10%, et les heures restantes (${heures25.toFixed(2)} h) sont major√©es √† 25%.</p>
                                    <p><strong>Calcul :</strong> (${heures10.toFixed(2)} h x ${tauxHoraire} ‚Ç¨/h x 1.10) + (${heures25.toFixed(2)} h x ${tauxHoraire} ‚Ç¨/h x 1.25) = ${totalHc.toFixed(2)} ‚Ç¨</p>`;
            } else {
                 totalHc = (seuil10 * tauxHoraire * 1.10) + ((seuil33-seuil10) * tauxHoraire * 1.25);
                 justificationText = `<p class="font-bold text-red-600">Attention !</p><p>Le nombre d'heures compl√©mentaires (${nombreHc} h) exc√®de le tiers des heures contractuelles (${seuil33.toFixed(2)} h). La r√©mun√©ration maximale est de ${totalHc.toFixed(2)} ‚Ç¨.</p>`;
            }
            
            resultatDiv.innerText = `R√©mun√©ration pour les heures compl√©mentaires: ${totalHc.toFixed(2)} ‚Ç¨`;
            justificationDiv.innerHTML = `<h4 class="font-bold text-purple-700">Justification du calcul :</h4>` + justificationText;
            justificationDiv.classList.remove('hidden');
        }

        function calculerHeuresSupplementaires() {
            const heuresTotales = parseFloat(document.getElementById('heures-totales-hs').value);
            const tauxHoraire = parseFloat(document.getElementById('taux-horaire-hs').value);
            const resultatDiv = document.getElementById('resultat-hs');
            const justificationDiv = document.getElementById('justification-hs');

            const heuresLegales = 35;
            let totalHs = 0;
            let justificationText = '';

            if (heuresTotales > heuresLegales) {
                const heuresSupp = heuresTotales - heuresLegales;
                if (heuresSupp <= 8) {
                    totalHs = heuresSupp * tauxHoraire * 1.25;
                    justificationText = `<p>Les heures suppl√©mentaires sont major√©es √† 25% car elles sont comprises entre la 36√®me et la 43√®me heure (soit jusqu'√† 8 heures suppl√©mentaires).</p>
                                        <p><strong>Calcul :</strong> ${heuresSupp} h x ${tauxHoraire} ‚Ç¨/h x 1.25 = ${totalHs.toFixed(2)} ‚Ç¨</p>`;
                } else {
                    const heures25 = 8;
                    const heures50 = heuresSupp - 8;
                    totalHs = (heures25 * tauxHoraire * 1.25) + (heures50 * tauxHoraire * 1.50);
                    justificationText = `<p>Le calcul se fait en deux parties : les 8 premi√®res heures suppl√©mentaires sont major√©es √† 25%, et les heures suivantes (${heures50} h) sont major√©es √† 50%.</p>
                                        <p><strong>Calcul :</strong> (${heures25} h x ${tauxHoraire} ‚Ç¨/h x 1.25) + (${heures50} h x ${tauxHoraire} ‚Ç¨/h x 1.50) = ${totalHs.toFixed(2)} ‚Ç¨</p>`;
                }
            } else {
                justificationText = `<p>Il n'y a pas d'heures suppl√©mentaires, car les heures totales travaill√©es sont inf√©rieures ou √©gales √† 35 heures.</p>`;
            }
            resultatDiv.innerText = `R√©mun√©ration pour les heures suppl√©mentaires: ${totalHs.toFixed(2)} ‚Ç¨`;
            justificationDiv.innerHTML = `<h4 class="font-bold text-purple-700">Justification du calcul :</h4>` + justificationText;
            justificationDiv.classList.remove('hidden');
        }

        function calculerRetenueAbsence() {
            const salaireBase = parseFloat(document.getElementById('salaire-base-retenue').value);
            const heuresReelles = parseFloat(document.getElementById('heures-reelles-retenue').value);
            const heuresAbsence = parseFloat(document.getElementById('heures-absence-retenue').value);
            const resultatDiv = document.getElementById('resultat-retenue');
            const justificationDiv = document.getElementById('justification-retenue');

            if (heuresReelles === 0) {
                resultatDiv.innerText = "Erreur: Les heures r√©elles ne peuvent pas √™tre z√©ro.";
                justificationDiv.classList.add('hidden');
                return;
            }

            const tauxHoraireReel = salaireBase / heuresReelles;
            const retenue = tauxHoraireReel * heuresAbsence;
            resultatDiv.innerText = `Retenue pour absence: ${retenue.toFixed(2)} ‚Ç¨`;

            justificationDiv.innerHTML = `
                <h4 class="font-bold text-purple-700">Justification du calcul :</h4>
                <p>Pour une absence, le montant est calcul√© en fonction de la valeur r√©elle de chaque heure du mois. On commence par d√©terminer le taux horaire r√©el en divisant le salaire de base par le nombre d'heures r√©elles du mois.</p>
                <p>Ensuite, on multiplie ce taux horaire r√©el par le nombre d'heures d'absence pour trouver le montant exact √† retenir sur le salaire.</p>
                <p><strong>Calcul :</strong><br>
                Taux horaire r√©el = ${salaireBase} ‚Ç¨ / ${heuresReelles} h = ${tauxHoraireReel.toFixed(2)} ‚Ç¨<br>
                Retenue = ${tauxHoraireReel.toFixed(2)} ‚Ç¨ x ${heuresAbsence} h = ${retenue.toFixed(2)} ‚Ç¨</p>
            `;
            justificationDiv.classList.remove('hidden');
        }

        function calculerIJSSMaladie() {
            const salaire3Mois = parseFloat(document.getElementById('salaire-3-mois').value);
            const joursAbsence = parseFloat(document.getElementById('jours-absence-ijss').value);
            const resultatDiv = document.getElementById('resultat-ijss');
            const justificationDiv = document.getElementById('justification-ijss');

            const sjr = salaire3Mois / 91.25;
            const ijssJournalieres = sjr * 0.50;
            const totalIJSS = (joursAbsence > 3) ? ijssJournalieres * (joursAbsence - 3) : 0;

            resultatDiv.innerHTML = `
                <p><strong>Salaire Journalier de R√©f√©rence:</strong> ${sjr.toFixed(2)} ‚Ç¨</p>
                <p><strong>IJSS Journali√®res:</strong> ${ijssJournalieres.toFixed(2)} ‚Ç¨</p>
                <p><strong>Total IJSS (apr√®s carence):</strong> ${totalIJSS.toFixed(2)} ‚Ç¨</p>
            `;
            justificationDiv.innerHTML = `
                <h4 class="font-bold text-purple-700">Justification du calcul :</h4>
                <p>Les IJSS sont vers√©es pour compenser la perte de salaire due √† un arr√™t maladie non professionnelle. Elles sont calcul√©es √† partir du Salaire Journalier de R√©f√©rence (SJR), qui est la moyenne des salaires bruts des trois derniers mois.</p>
                <p>On applique ensuite un taux de 50% sur le SJR. La Caisse Primaire d'Assurance Maladie (CPAM) applique un d√©lai de carence de 3 jours avant le versement. Le total est donc calcul√© sur le nombre de jours d'absence moins les 3 jours de carence.</p>
                <p><strong>Calcul :</strong><br>
                SJR = ${salaire3Mois} ‚Ç¨ / 91,25 jours = ${sjr.toFixed(2)} ‚Ç¨<br>
                IJSS Journali√®res = ${sjr.toFixed(2)} ‚Ç¨ x 50% = ${ijssJournalieres.toFixed(2)} ‚Ç¨<br>
                Total IJSS = ${ijssJournalieres.toFixed(2)} ‚Ç¨ x (${joursAbsence} - 3) jours = ${totalIJSS.toFixed(2)} ‚Ç¨</p>
            `;
            justificationDiv.classList.remove('hidden');
        }

        function calculerAvantageLogement() {
            const montant = parseFloat(document.getElementById('montant-logement').value);
            const pieces = parseFloat(document.getElementById('nombre-pieces').value);
            const resultatDiv = document.getElementById('resultat-logement');
            const justificationDiv = document.getElementById('justification-logement');

            const valeur = montant * pieces;
            resultatDiv.innerText = `Valeur de l'avantage en nature (Logement): ${valeur.toFixed(2)} ‚Ç¨`;
            
            justificationDiv.innerHTML = `
                <h4 class="font-bold text-purple-700">Justification du calcul :</h4>
                <p>Le calcul de l'avantage en nature pour un logement se fait en utilisant la m√©thode forfaitaire, bas√©e sur un bar√®me fourni par l'URSSAF. Ce bar√®me prend en compte le niveau de r√©mun√©ration du salari√© et le nombre de pi√®ces du logement.</p>
                <p><strong>Calcul :</strong><br>
                Valeur de l'avantage = ${montant} ‚Ç¨/pi√®ce x ${pieces} pi√®ces = ${valeur.toFixed(2)} ‚Ç¨</p>
            `;
            justificationDiv.classList.remove('hidden');
        }

        function calculerAvantageNourriture() {
            const evalForfaitaire = parseFloat(document.getElementById('eval-forfaitaire').value);
            const participation = parseFloat(document.getElementById('participation-salarie').value);
            const repas = parseFloat(document.getElementById('nombre-repas').value);
            const resultatDiv = document.getElementById('resultat-nourriture');
            const justificationDiv = document.getElementById('justification-nourriture');
            
            const valeur = (evalForfaitaire - participation) * repas;
            resultatDiv.innerText = `Valeur de l'avantage en nature (Nourriture): ${valeur.toFixed(2)} ‚Ç¨`;

            justificationDiv.innerHTML = `
                <h4 class="font-bold text-purple-700">Justification du calcul :</h4>
                <p>L'avantage en nature pour la nourriture est calcul√© en se basant sur une √©valuation forfaitaire annuelle, d√©duction faite de la participation du salari√©. Ce montant est ensuite multipli√© par le nombre de repas pris.</p>
                <p><strong>Calcul :</strong><br>
                Valeur par repas = ${evalForfaitaire.toFixed(2)} ‚Ç¨ - ${participation.toFixed(2)} ‚Ç¨ = ${(evalForfaitaire - participation).toFixed(2)} ‚Ç¨<br>
                Valeur totale = ${(evalForfaitaire - participation).toFixed(2)} ‚Ç¨ x ${repas} repas = ${valeur.toFixed(2)} ‚Ç¨</p>
            `;
            justificationDiv.classList.remove('hidden');
        }

        function calculerRGCP() {
            const remunerationAnnuelle = parseFloat(document.getElementById('remuneration-annuelle').value);
            const smicAnnuel = parseFloat(document.getElementById('smic-annuel').value);
            const valeurT = parseFloat(document.getElementById('valeur-t').value);
            const resultatDiv = document.getElementById('resultat-rgcp');
            const justificationDiv = document.getElementById('justification-rgcp');

            const coefficient = (valeurT / 0.6) * (((1.6 * smicAnnuel) / remunerationAnnuelle) - 1);
            const reduction = remunerationAnnuelle * coefficient;

            resultatDiv.innerHTML = `
                <p><strong>Coefficient:</strong> ${coefficient.toFixed(4)}</p>
                <p><strong>Montant de la r√©duction:</strong> ${reduction.toFixed(2)} ‚Ç¨</p>
            `;
            justificationDiv.innerHTML = `
                <h4 class="font-bold text-purple-700">Justification du calcul :</h4>
                <p>La R√©duction G√©n√©rale des Cotisations Patronales (RGCP) est un dispositif qui permet de r√©duire les cotisations pour les bas salaires. Le calcul se base sur un coefficient d√©termin√© par une formule l√©gale qui prend en compte le SMIC annuel et la r√©mun√©ration brute du salari√©.</p>
                <p>Le montant final de la r√©duction est obtenu en multipliant ce coefficient par la r√©mun√©ration annuelle brute.</p>
                <p><strong>Calcul :</strong><br>
                Coefficient = (${valeurT} / 0.6) x (((1.6 x ${smicAnnuel} ‚Ç¨) / ${remunerationAnnuelle} ‚Ç¨) - 1) = ${coefficient.toFixed(4)}<br>
                R√©duction = ${remunerationAnnuelle} ‚Ç¨ x ${coefficient.toFixed(4)} = ${reduction.toFixed(2)} ‚Ç¨</p>
            `;
            justificationDiv.classList.remove('hidden');
        }
    </script>
</body>
</html>
